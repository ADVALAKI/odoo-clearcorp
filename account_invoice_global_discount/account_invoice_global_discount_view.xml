<?xml version="1.0" encoding="utf-8"?>
<openerp><data>
	<!--
	Resource: account.invoice
	Adds fields with not discounted amounts
	-->
	<record id="invoice_tree_ccorp1" model="ir.ui.view">
		<field name="name">account.invoice.tree_ccorp1</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_tree"/>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="amount_untaxed" position="replace">
				<field name="amount_untaxed_not_discounted" sum="Untaxed amount"/>
			</field>
		</field>
	</record>
	<record id="invoice_tree_ccorp2" model="ir.ui.view">
		<field name="name">account.invoice.tree_ccorp2</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_tree"/>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="amount_total" position="before">
				<field name="invoice_discount"/>
				<field name="amount_discounted" sum="Discounted amount"/>
			</field>
		</field>
	</record>
	
	<record id="invoice_supplier_form_ccorp_line1" model="ir.ui.view">
		<field name="name">account.invoice.supplier.form_ccorp1</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_supplier_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/field[@name='invoice_line']/tree/field[@name='price_subtotal']" position="before">
				<field name="discount"/>
			</xpath>
		</field>
	</record>
	<record id="invoice_supplier_form_ccorp_line2" model="ir.ui.view">
		<field name="name">account.invoice.supplier.form_ccorp1</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_supplier_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/field[@name='invoice_line']/tree/field[@name='price_subtotal']" position="after">
				<field name="price_subtotal_not_discounted"/>
			</xpath>
		</field>
	</record>
    
	<record id="invoice_supplier_form_ccorp1" model="ir.ui.view">
		<field name="name">account.invoice.supplier.form_ccorp1</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_supplier_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/group/button[@name='button_reset_taxes']" position="replace">
                <button colspan="2" name="%(invoice_discount)d" states="draft" string="Apply Discount" type="action"/>
                <button colspan="2" name="button_reset_taxes" states="draft" string="Compute Totals" type="object"/>
			</xpath>
		</field>
	</record>
	<record id="invoice_supplier_form_ccorp2" model="ir.ui.view">
		<field name="name">account.invoice.supplier.form_ccorp2</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_supplier_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/group/field[@name='amount_untaxed']" position="replace">
                <label colspan="2"/>
                <field name="amount_untaxed_not_discounted"/>
                <field name="invoice_discount"/>
                <field name="amount_discounted"/>
			</xpath>
		</field>
	</record>
    
	<record id="invoice_form_ccorp1" model="ir.ui.view">
		<field name="name">account.invoice.form_ccorp1</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/group/button[@name='button_reset_taxes']" position="replace">
                <button colspan="2" name="%(invoice_discount)d" states="draft" string="Apply Discount" type="action"/>
                <button colspan="2" name="button_reset_taxes" states="draft" string="Compute Totals" type="object"/>
			</xpath>
		</field>
	</record>
	<record id="invoice_form_ccorp2" model="ir.ui.view">
		<field name="name">account.invoice.form_ccorp2</field>
		<field name="model">account.invoice</field>
		<field name="inherit_id" ref="account.invoice_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<xpath expr="/form/notebook/page/group/field[@name='amount_untaxed']" position="replace">
                <label colspan="2"/>
                <field name="amount_untaxed_not_discounted"/>
                <field name="invoice_discount"/>
                <field name="amount_discounted"/>
			</xpath>
		</field>
	</record>

	<!--
	Resource: account.invoice.line
	Adds the subtotal not discounted to tree and form views
	-->
	<record id="view_invoice_line_tree_ccorp" model="ir.ui.view">
		<field name="name">account.invoice.line.tree_ccorp</field>
		<field name="model">account.invoice.line</field>
		<field name="inherit_id" ref="account.view_invoice_line_tree"/>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<field name="price_subtotal" position="after">
				<field name="price_subtotal_not_discounted"/>
			</field>
		</field>
	</record>
	<record id="view_invoice_line_form_ccorp" model="ir.ui.view">
		<field name="name">account.invoice.line.form_ccorp</field>
		<field name="model">account.invoice.line</field>
		<field name="inherit_id" ref="account.view_invoice_line_form"/>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<field name="price_subtotal" position="after">
				<field name="price_subtotal_not_discounted"/>
			</field>
		</field>
	</record>
</data></openerp>
